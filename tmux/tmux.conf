# bind ctrl+space to prefix
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# Fix Colors
set -g default-terminal "screen-256color"
set -as terminal-features ",xterm-256color:RGB"

# binding to source config file
bind r source-file ~/.config/tmux/tmux.conf

# enable mouse usage
set -g mouse on
set-option -s set-clipboard off

# set vi bindings
setw -g mode-keys vi
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"

# create window by naming it
bind-key c command-prompt -p "window name:" "new-window; rename-window '%%'"
# create window with no name
bind-key C new-window

# automatically renumber windows when one is deleted
set-option -g renumber-windows on
# don't exit tmux when killing session
set -g detach-on-destroy off

# Start counting pane and window number at 1
set -g base-index 1
setw -g pane-base-index 1

# vim-like pane resizing
bind -r C-k resize-pane -U
bind -r C-j resize-pane -D
bind -r C-h resize-pane -L
bind -r C-l resize-pane -R
# vim-like pane switching
bind -r k select-pane -U 
bind -r j select-pane -D 
bind -r h select-pane -L 
bind -r l select-pane -R 
# Split panes with \ and -
bind \\ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %
# and now unbind keys
unbind Up     
unbind Down   
unbind Left   
unbind Right  
unbind C-Up   
unbind C-Down 
unbind C-Left 
unbind C-Right

# set and run tpm
set -g @plugin 'tmux-plugins/tpm'
run '~/.tmux/plugins/tpm/tpm'
#### plugins
set -g @plugin "janoamaral/tokyo-night-tmux"
# set -g @plugin 'tmux-plugins/tmux-yank'

unbind m
bind-key "m" run-shell "tmux ls | awk '{print $1}' | cut -d : -f 1 | \
    fzf-tmux -p 55%,60% \
		--no-sort --border-label ' session manager ' --prompt '‚öôÔ∏è' \
		--header '  [ ^s ] switch [ ^d ] delete [ ^a ] create ' \
		--bind 'ctrl-s:become(tmux switch -t {})' \
		--bind 'ctrl-d:become(tmux kill-session -t {})' \
"

unbind s
bind-key "s" run-shell "tmux ls | awk '{print $1}' | cut -d : -f 1 | \
    fzf-tmux -p 55%,60% \
    --no-sort --border-label ' session manager - switch ' --prompt '‚ö°Ô∏è ' | \
    xargs tmux switch -t

"

unbind K
bind-key "K" run-shell "tmux ls | awk '{print $1}' | cut -d : -f 1 | \
    fzf-tmux -p 55%,60% \
    --no-sort --border-label ' session manager - kill ' --prompt 'üíÄ ' | \
    xargs tmux kill-session -t

"

unbind H
bind-key "H" run-shell "tmux switch -t üè†home"
